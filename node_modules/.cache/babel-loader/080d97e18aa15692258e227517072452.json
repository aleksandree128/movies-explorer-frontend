{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\SavedMovies\\\\SavedMovies.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport MoviesCardList from \"../MovieCardsLists/MovieCardsLists\";\nimport SearchForm from \"../SeacrhForm/SeacrhForm\";\nimport \"../SavedMovies/savedMovies.css\";\nimport \"../Header/header.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SavedMovies(_ref) {\n  _s();\n\n  let {\n    user = {},\n    onDeleteClick = false,\n    savedMoviesList = []\n  } = _ref;\n  const [inputValue, setInputValue] = React.useState(false);\n  const [shortMovies, setShortMovies] = React.useState(false);\n  const [nothingFound, setNothingFound] = React.useState(true);\n  const [showedMovies, setShowedMovies] = React.useState(savedMoviesList);\n  const [filteredMovies, setFilteredMovies] = React.useState(showedMovies);\n\n  function filterMovies(movies, request, shortMoviesSwitch) {\n    const foundMovies = movies.filter(movie => {\n      return movie.nameRU.toLowerCase().includes(request.toLowerCase());\n    });\n\n    if (shortMoviesSwitch) {\n      return filterShortMovies(foundMovies);\n    } else {\n      return foundMovies;\n    }\n  }\n\n  ;\n\n  function filterShortMovies(movies) {\n    return movies.filter(movie => movie.duration <= 40);\n  }\n\n  ;\n\n  function handleSearchSubmit(inputValue) {\n    localStorage.setItem('savedMoviesSearch', inputValue);\n\n    if (filterMovies(savedMoviesList, inputValue, shortMovies).length === 0) {\n      setNothingFound(true);\n    } else {\n      setNothingFound(false);\n      setFilteredMovies(filterMovies(savedMoviesList, inputValue, shortMovies));\n      setShowedMovies(filterMovies(savedMoviesList, inputValue, shortMovies));\n      localStorage.setItem('savedMovies', JSON.stringify(savedMoviesList));\n    }\n  }\n\n  function handleShortFilms() {\n    if (!shortMovies) {\n      setShortMovies(true);\n      localStorage.setItem('shortSavedMovies', true);\n      setShowedMovies(filterShortMovies(filteredMovies));\n      filterShortMovies(filteredMovies).length === 0 ? setNothingFound(true) : setNothingFound(false);\n    } else {\n      setShortMovies(false);\n      localStorage.setItem('shortSavedMovies', false);\n      filteredMovies.length === 0 ? setNothingFound(true) : setNothingFound(false);\n      setShowedMovies(filteredMovies);\n    }\n  }\n\n  React.useEffect(() => {\n    if (localStorage.getItem('savedMoviesSearch')) {\n      setInputValue(localStorage.getItem('savedMoviesSearch'));\n    }\n  }, []);\n  React.useEffect(() => {\n    if (localStorage.getItem('shortSavedMovies') === 'true') {\n      setShortMovies(true);\n      setShowedMovies(filterShortMovies(savedMoviesList));\n    } else {\n      setShortMovies(false);\n      setShowedMovies(savedMoviesList);\n    }\n  }, [savedMoviesList, user]);\n  React.useEffect(() => {\n    if (savedMoviesList.length !== 0) {\n      setNothingFound(false);\n    } else {\n      setNothingFound(true);\n    }\n  }, [savedMoviesList]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      handleSearchSubmit: handleSearchSubmit,\n      checkBoxClick: handleShortFilms,\n      shortMovies: shortMovies,\n      inputValue: inputValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MoviesCardList, {\n      nothingFound: nothingFound,\n      moviesList: showedMovies,\n      onDeleteClick: onDeleteClick,\n      onSaveClick: false,\n      savedMoviesPage: true,\n      savedMovies: savedMoviesList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"savedMovies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SavedMovies, \"9rf/6SSz0E4fwfBrc7jJypbk470=\");\n\n_c = SavedMovies;\nexport default SavedMovies;\n\nvar _c;\n\n$RefreshReg$(_c, \"SavedMovies\");","map":{"version":3,"names":["React","MoviesCardList","SearchForm","SavedMovies","user","onDeleteClick","savedMoviesList","inputValue","setInputValue","useState","shortMovies","setShortMovies","nothingFound","setNothingFound","showedMovies","setShowedMovies","filteredMovies","setFilteredMovies","filterMovies","movies","request","shortMoviesSwitch","foundMovies","filter","movie","nameRU","toLowerCase","includes","filterShortMovies","duration","handleSearchSubmit","localStorage","setItem","length","JSON","stringify","handleShortFilms","useEffect","getItem"],"sources":["C:/Users/aleks/dev/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.js"],"sourcesContent":["import React from \"react\";\r\nimport MoviesCardList from \"../MovieCardsLists/MovieCardsLists\";\r\nimport SearchForm from \"../SeacrhForm/SeacrhForm\";\r\nimport \"../SavedMovies/savedMovies.css\";\r\nimport \"../Header/header.css\";\r\n\r\nfunction SavedMovies({ user = {}, onDeleteClick = false, savedMoviesList = []}) {\r\n    const [inputValue, setInputValue] = React.useState(false);\r\n    const [shortMovies, setShortMovies] = React.useState(false);\r\n    const [nothingFound, setNothingFound] = React.useState(true);\r\n    const [showedMovies, setShowedMovies] = React.useState(savedMoviesList)\r\n    const [filteredMovies, setFilteredMovies] = React.useState(showedMovies);\r\n\r\n    function filterMovies(movies, request, shortMoviesSwitch) {\r\n        const foundMovies = movies.filter((movie) => {\r\n            return movie.nameRU.toLowerCase().includes(request.toLowerCase())\r\n        });\r\n\r\n        if (shortMoviesSwitch) {\r\n            return filterShortMovies(foundMovies);\r\n        } else {\r\n            return foundMovies;\r\n        }\r\n    };\r\n\r\n    function filterShortMovies(movies) {\r\n        return movies.filter((movie) => movie.duration <= 40);\r\n    };\r\n\r\n    function handleSearchSubmit(inputValue) {\r\n        localStorage.setItem('savedMoviesSearch', inputValue);\r\n        if(filterMovies(savedMoviesList, inputValue, shortMovies).length === 0) {\r\n            setNothingFound(true)\r\n        } else {\r\n            setNothingFound(false)\r\n            setFilteredMovies(filterMovies(savedMoviesList, inputValue, shortMovies))\r\n            setShowedMovies(filterMovies(savedMoviesList, inputValue, shortMovies))\r\n            localStorage.setItem('savedMovies', JSON.stringify(savedMoviesList));\r\n        }\r\n    }\r\n\r\n    function handleShortFilms() {\r\n        if (!shortMovies) {\r\n            setShortMovies(true)\r\n            localStorage.setItem('shortSavedMovies', true);\r\n            setShowedMovies(filterShortMovies(filteredMovies));\r\n            filterShortMovies(filteredMovies).length === 0 ? setNothingFound(true) : setNothingFound(false)\r\n        } else {\r\n            setShortMovies(false)\r\n            localStorage.setItem('shortSavedMovies', false);\r\n            filteredMovies.length === 0 ? setNothingFound(true) : setNothingFound(false)\r\n            setShowedMovies(filteredMovies)\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (localStorage.getItem('savedMoviesSearch')) {\r\n            setInputValue(localStorage.getItem('savedMoviesSearch'));\r\n        }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (localStorage.getItem('shortSavedMovies') === 'true') {\r\n            setShortMovies(true)\r\n            setShowedMovies(filterShortMovies(savedMoviesList))\r\n        } else {\r\n            setShortMovies(false)\r\n            setShowedMovies(savedMoviesList)\r\n        }\r\n    }, [savedMoviesList, user]);\r\n\r\n    React.useEffect(() => {\r\n        if(savedMoviesList.length !== 0) {\r\n            setNothingFound(false)\r\n        } else {\r\n            setNothingFound(true)\r\n        }\r\n    }, [savedMoviesList])\r\n    return (\r\n        <>\r\n            <SearchForm\r\n                handleSearchSubmit={handleSearchSubmit}\r\n                checkBoxClick={handleShortFilms}\r\n                shortMovies={shortMovies}\r\n                inputValue={inputValue}\r\n            />\r\n            <MoviesCardList\r\n                nothingFound={nothingFound}\r\n                moviesList={showedMovies}\r\n                onDeleteClick={onDeleteClick}\r\n                onSaveClick={false}\r\n                savedMoviesPage={true}\r\n                savedMovies={savedMoviesList}\r\n            />\r\n            <div className=\"savedMovies\"></div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SavedMovies;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,oCAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAO,gCAAP;AACA,OAAO,sBAAP;;;;AAEA,SAASC,WAAT,OAAgF;EAAA;;EAAA,IAA3D;IAAEC,IAAI,GAAG,EAAT;IAAaC,aAAa,GAAG,KAA7B;IAAoCC,eAAe,GAAG;EAAtD,CAA2D;EAC5E,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BR,KAAK,CAACS,QAAN,CAAe,KAAf,CAApC;EACA,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCX,KAAK,CAACS,QAAN,CAAe,KAAf,CAAtC;EACA,MAAM,CAACG,YAAD,EAAeC,eAAf,IAAkCb,KAAK,CAACS,QAAN,CAAe,IAAf,CAAxC;EACA,MAAM,CAACK,YAAD,EAAeC,eAAf,IAAkCf,KAAK,CAACS,QAAN,CAAeH,eAAf,CAAxC;EACA,MAAM,CAACU,cAAD,EAAiBC,iBAAjB,IAAsCjB,KAAK,CAACS,QAAN,CAAeK,YAAf,CAA5C;;EAEA,SAASI,YAAT,CAAsBC,MAAtB,EAA8BC,OAA9B,EAAuCC,iBAAvC,EAA0D;IACtD,MAAMC,WAAW,GAAGH,MAAM,CAACI,MAAP,CAAeC,KAAD,IAAW;MACzC,OAAOA,KAAK,CAACC,MAAN,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCP,OAAO,CAACM,WAAR,EAApC,CAAP;IACH,CAFmB,CAApB;;IAIA,IAAIL,iBAAJ,EAAuB;MACnB,OAAOO,iBAAiB,CAACN,WAAD,CAAxB;IACH,CAFD,MAEO;MACH,OAAOA,WAAP;IACH;EACJ;;EAAA;;EAED,SAASM,iBAAT,CAA2BT,MAA3B,EAAmC;IAC/B,OAAOA,MAAM,CAACI,MAAP,CAAeC,KAAD,IAAWA,KAAK,CAACK,QAAN,IAAkB,EAA3C,CAAP;EACH;;EAAA;;EAED,SAASC,kBAAT,CAA4BvB,UAA5B,EAAwC;IACpCwB,YAAY,CAACC,OAAb,CAAqB,mBAArB,EAA0CzB,UAA1C;;IACA,IAAGW,YAAY,CAACZ,eAAD,EAAkBC,UAAlB,EAA8BG,WAA9B,CAAZ,CAAuDuB,MAAvD,KAAkE,CAArE,EAAwE;MACpEpB,eAAe,CAAC,IAAD,CAAf;IACH,CAFD,MAEO;MACHA,eAAe,CAAC,KAAD,CAAf;MACAI,iBAAiB,CAACC,YAAY,CAACZ,eAAD,EAAkBC,UAAlB,EAA8BG,WAA9B,CAAb,CAAjB;MACAK,eAAe,CAACG,YAAY,CAACZ,eAAD,EAAkBC,UAAlB,EAA8BG,WAA9B,CAAb,CAAf;MACAqB,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCE,IAAI,CAACC,SAAL,CAAe7B,eAAf,CAApC;IACH;EACJ;;EAED,SAAS8B,gBAAT,GAA4B;IACxB,IAAI,CAAC1B,WAAL,EAAkB;MACdC,cAAc,CAAC,IAAD,CAAd;MACAoB,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyC,IAAzC;MACAjB,eAAe,CAACa,iBAAiB,CAACZ,cAAD,CAAlB,CAAf;MACAY,iBAAiB,CAACZ,cAAD,CAAjB,CAAkCiB,MAAlC,KAA6C,CAA7C,GAAiDpB,eAAe,CAAC,IAAD,CAAhE,GAAyEA,eAAe,CAAC,KAAD,CAAxF;IACH,CALD,MAKO;MACHF,cAAc,CAAC,KAAD,CAAd;MACAoB,YAAY,CAACC,OAAb,CAAqB,kBAArB,EAAyC,KAAzC;MACAhB,cAAc,CAACiB,MAAf,KAA0B,CAA1B,GAA8BpB,eAAe,CAAC,IAAD,CAA7C,GAAsDA,eAAe,CAAC,KAAD,CAArE;MACAE,eAAe,CAACC,cAAD,CAAf;IACH;EACJ;;EAEDhB,KAAK,CAACqC,SAAN,CAAgB,MAAM;IAClB,IAAIN,YAAY,CAACO,OAAb,CAAqB,mBAArB,CAAJ,EAA+C;MAC3C9B,aAAa,CAACuB,YAAY,CAACO,OAAb,CAAqB,mBAArB,CAAD,CAAb;IACH;EACJ,CAJD,EAIG,EAJH;EAMAtC,KAAK,CAACqC,SAAN,CAAgB,MAAM;IAClB,IAAIN,YAAY,CAACO,OAAb,CAAqB,kBAArB,MAA6C,MAAjD,EAAyD;MACrD3B,cAAc,CAAC,IAAD,CAAd;MACAI,eAAe,CAACa,iBAAiB,CAACtB,eAAD,CAAlB,CAAf;IACH,CAHD,MAGO;MACHK,cAAc,CAAC,KAAD,CAAd;MACAI,eAAe,CAACT,eAAD,CAAf;IACH;EACJ,CARD,EAQG,CAACA,eAAD,EAAkBF,IAAlB,CARH;EAUAJ,KAAK,CAACqC,SAAN,CAAgB,MAAM;IAClB,IAAG/B,eAAe,CAAC2B,MAAhB,KAA2B,CAA9B,EAAiC;MAC7BpB,eAAe,CAAC,KAAD,CAAf;IACH,CAFD,MAEO;MACHA,eAAe,CAAC,IAAD,CAAf;IACH;EACJ,CAND,EAMG,CAACP,eAAD,CANH;EAOA,oBACI;IAAA,wBACI,QAAC,UAAD;MACI,kBAAkB,EAAEwB,kBADxB;MAEI,aAAa,EAAEM,gBAFnB;MAGI,WAAW,EAAE1B,WAHjB;MAII,UAAU,EAAEH;IAJhB;MAAA;MAAA;MAAA;IAAA,QADJ,eAOI,QAAC,cAAD;MACI,YAAY,EAAEK,YADlB;MAEI,UAAU,EAAEE,YAFhB;MAGI,aAAa,EAAET,aAHnB;MAII,WAAW,EAAE,KAJjB;MAKI,eAAe,EAAE,IALrB;MAMI,WAAW,EAAEC;IANjB;MAAA;MAAA;MAAA;IAAA,QAPJ,eAeI;MAAK,SAAS,EAAC;IAAf;MAAA;MAAA;MAAA;IAAA,QAfJ;EAAA,gBADJ;AAmBH;;GA3FQH,W;;KAAAA,W;AA6FT,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}