{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\Profile\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"../Profile/profile.css\";\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Profile(_ref) {\n  _s();\n\n  let {\n    onUpdateUser,\n    onSignOut\n  } = _ref;\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(currentUser.name);\n  const [email, setEmail] = React.useState(currentUser.email);\n  const [initialName, setInitialName] = React.useState(currentUser.name);\n  const [initialEmail, setInitialEmail] = React.useState(currentUser.email);\n  const [activeButton, setActiveButton] = React.useState(false);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n\n    if (e.target.value !== initialName) {\n      setActiveButton(true);\n    } else {\n      setActiveButton(false);\n    }\n  }\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value);\n\n    if (e.target.value !== initialEmail) {\n      setActiveButton(true);\n    } else {\n      setActiveButton(false);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    setActiveButton(false);\n    onUpdateUser({\n      name: name,\n      email: email\n    });\n    localStorage.setItem('name', name);\n    localStorage.setItem('email', email);\n  }\n\n  React.useEffect(() => {\n    const localStorageName = localStorage.getItem('name');\n\n    if (localStorageName) {\n      setInitialName(localStorageName);\n    }\n\n    const localStorageEmail = localStorage.getItem('email');\n\n    if (localStorageEmail) {\n      setInitialEmail(localStorageEmail);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"profile\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"profile__greeting\",\n      children: [\"\\u041F\\u0440\\u0438\\u0432\\u0435\\u0442, \", name, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"profile__user\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__line\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__caption\",\n          children: \"\\u0418\\u043C\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"profile__content\",\n          value: name,\n          onChange: handleChangeName,\n          id: \"name\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile__line\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"profile__caption\",\n          children: \"E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"profile__content\",\n          value: email,\n          id: \"email\",\n          onChange: handleChangeEmail,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"profile__btn-update\",\n      disabled: !activeButton,\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onSignOut,\n      className: \"profile__exit\",\n      children: \"\\u0412\\u044B\\u0439\\u0442\\u0438 \\u0438\\u0437 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Profile, \"8zEf5ixWxPkaey5EkROXMo+iBFM=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","CurrentUserContext","Profile","onUpdateUser","onSignOut","currentUser","useContext","name","setName","useState","email","setEmail","initialName","setInitialName","initialEmail","setInitialEmail","activeButton","setActiveButton","handleChangeName","e","target","value","handleChangeEmail","handleSubmit","preventDefault","localStorage","setItem","useEffect","localStorageName","getItem","localStorageEmail"],"sources":["C:/Users/aleks/dev/movies-explorer-frontend/src/components/Profile/Profile.js"],"sourcesContent":["import React from \"react\";\r\nimport \"../Profile/profile.css\";\r\nimport { CurrentUserContext } from \"../../context/CurrentUserContext\";\r\n\r\n\r\nfunction Profile({ onUpdateUser, onSignOut }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState(currentUser.name);\r\n    const [email, setEmail] = React.useState(currentUser.email);\r\n    const [initialName, setInitialName] = React.useState(currentUser.name);\r\n    const [initialEmail, setInitialEmail] = React.useState(currentUser.email);\r\n    const [activeButton, setActiveButton] = React.useState(false);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n        if (e.target.value !== initialName) {\r\n            setActiveButton(true);\r\n        } else {\r\n            setActiveButton(false);\r\n        }\r\n    }\r\n\r\n    function handleChangeEmail(e) {\r\n        setEmail(e.target.value);\r\n        if (e.target.value !== initialEmail) {\r\n            setActiveButton(true);\r\n        } else {\r\n            setActiveButton(false);\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        setActiveButton(false);\r\n        onUpdateUser({\r\n            name: name,\r\n            email: email,\r\n        });\r\n        localStorage.setItem('name', name)\r\n        localStorage.setItem('email', email)\r\n    }\r\n\r\n    React.useEffect(() =>{\r\n        const localStorageName = localStorage.getItem('name');\r\n        if (localStorageName) {\r\n            setInitialName(localStorageName);\r\n        }\r\n        const localStorageEmail = localStorage.getItem('email');\r\n        if (localStorageEmail) {\r\n            setInitialEmail(localStorageEmail);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n            <section className=\"profile\">\r\n                <h2 className=\"profile__greeting\">Привет, {name}!</h2>\r\n                <form className=\"profile__user\" onSubmit={handleSubmit}>\r\n                    <div className=\"profile__line\">\r\n                        <label className=\"profile__caption\">Имя</label>\r\n                        <input className=\"profile__content\"\r\n                               value={name} onChange={handleChangeName} id='name' required>\r\n\r\n                        </input>\r\n                    </div>\r\n                    <div className=\"profile__line\">\r\n                        <label className=\"profile__caption\">E-mail</label>\r\n                        <input className=\"profile__content\" value={email} id='email' onChange={handleChangeEmail} required>\r\n                        </input>\r\n                    </div>\r\n                </form>\r\n                <button className=\"profile__btn-update\" disabled={!activeButton}>\r\n                    Редактировать\r\n                </button>\r\n                <button onClick={onSignOut} className=\"profile__exit\">\r\n                    Выйти из аккаунта\r\n                </button>\r\n            </section>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}