{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aleks\\\\dev\\\\movies-explorer-frontend\\\\src\\\\components\\\\SavedMovies\\\\SavedMovies.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport MoviesCardList from \"../MovieCardsLists/MovieCardsLists\";\nimport SearchForm from \"../SeacrhForm/SeacrhForm\";\nimport \"../SavedMovies/savedMovies.css\";\nimport \"../Header/header.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction SavedMovies(_ref) {\n  _s();\n\n  let {\n    user = {},\n    onDeleteClick = false,\n    savedMoviesList = []\n  } = _ref;\n  const [inputValue, setInputValue] = React.useState(false);\n  const [shortMovies, setShortMovies] = React.useState(false);\n  const [notFound, setNotFound] = React.useState(true);\n  const [showedMovies, setShowedMovies] = React.useState(savedMoviesList);\n  const [filteredMovies, setFilteredMovies] = React.useState(showedMovies);\n\n  function filterMovies(movies, request, shortMoviesSwitch) {\n    const foundMovies = movies.filter(movie => {\n      return movie.nameRU.toLowerCase().includes(request.toLowerCase());\n    });\n\n    if (shortMoviesSwitch) {\n      return filterShortMovies(foundMovies);\n    } else {\n      return foundMovies;\n    }\n  }\n\n  function filterShortMovies(movies) {\n    return movies.filter(movie => movie.duration <= 40);\n  }\n\n  function handleSearch(value) {\n    localStorage.setItem(\"savedMoviesSearch\", value);\n\n    if (filterMovies(savedMoviesList, value, shortMovies).length === 0) {\n      setNotFound(true);\n    } else {\n      setNotFound(false);\n      setFilteredMovies(filterMovies(savedMoviesList, value, shortMovies));\n      setShowedMovies(filterMovies(savedMoviesList, value, shortMovies));\n      localStorage.setItem(\"savedMovies\", JSON.stringify(savedMoviesList));\n    }\n  }\n\n  function handleShortFilms() {\n    if (!shortMovies) {\n      setShortMovies(true);\n      localStorage.setItem(\"shortSavedMovies\", true);\n      setShowedMovies(filterShortMovies(filteredMovies));\n      filterShortMovies(filteredMovies).length === 0 ? setNotFound(true) : setNotFound(false);\n    } else {\n      setShortMovies(false);\n      localStorage.setItem(\"shortSavedMovies\", false);\n      filteredMovies.length === 0 ? setNotFound(true) : setNotFound(false);\n      setShowedMovies(filteredMovies);\n    }\n  }\n\n  React.useEffect(() => {\n    if (localStorage.getItem(\"savedMoviesSearch\")) {\n      setInputValue(localStorage.getItem(\"savedMoviesSearch\"));\n    }\n  }, []);\n  React.useEffect(() => {\n    if (localStorage.getItem(\"shortSavedMovies\") === \"true\") {\n      setShortMovies(true);\n      setShowedMovies(filterShortMovies(savedMoviesList));\n    } else {\n      setShortMovies(false);\n      setShowedMovies(savedMoviesList);\n    }\n  }, [savedMoviesList, user]);\n  React.useEffect(() => {\n    if (savedMoviesList.length !== 0) {\n      setNotFound(false);\n    } else {\n      setNotFound(true);\n    }\n  }, [savedMoviesList]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n      handleSearchSubmit: handleSearch,\n      checkBoxClick: handleShortFilms,\n      shortMovies: shortMovies,\n      inputValue: inputValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MoviesCardList, {\n      nothingFound: notFound,\n      moviesList: showedMovies,\n      onDeleteClick: onDeleteClick,\n      onSaveClick: false,\n      savedMoviesPage: true,\n      savedMovies: savedMoviesList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"savedMovies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SavedMovies, \"iB6BKHLIOpDLr94tj7TTK5Mx8S0=\");\n\n_c = SavedMovies;\nexport default SavedMovies;\n\nvar _c;\n\n$RefreshReg$(_c, \"SavedMovies\");","map":{"version":3,"names":["React","MoviesCardList","SearchForm","SavedMovies","user","onDeleteClick","savedMoviesList","inputValue","setInputValue","useState","shortMovies","setShortMovies","notFound","setNotFound","showedMovies","setShowedMovies","filteredMovies","setFilteredMovies","filterMovies","movies","request","shortMoviesSwitch","foundMovies","filter","movie","nameRU","toLowerCase","includes","filterShortMovies","duration","handleSearch","value","localStorage","setItem","length","JSON","stringify","handleShortFilms","useEffect","getItem"],"sources":["C:/Users/aleks/dev/movies-explorer-frontend/src/components/SavedMovies/SavedMovies.js"],"sourcesContent":["import React from \"react\";\r\nimport MoviesCardList from \"../MovieCardsLists/MovieCardsLists\";\r\nimport SearchForm from \"../SeacrhForm/SeacrhForm\";\r\nimport \"../SavedMovies/savedMovies.css\";\r\nimport \"../Header/header.css\";\r\n\r\nfunction SavedMovies({\r\n                         user = {},\r\n                         onDeleteClick = false,\r\n                         savedMoviesList = [],\r\n                     }) {\r\n    const [inputValue, setInputValue] = React.useState(false);\r\n    const [shortMovies, setShortMovies] = React.useState(false);\r\n    const [notFound, setNotFound] = React.useState(true);\r\n    const [showedMovies, setShowedMovies] = React.useState(savedMoviesList);\r\n    const [filteredMovies, setFilteredMovies] = React.useState(showedMovies);\r\n\r\n    function filterMovies(movies, request, shortMoviesSwitch) {\r\n        const foundMovies = movies.filter((movie) => {\r\n            return movie.nameRU.toLowerCase().includes(request.toLowerCase())\r\n        });\r\n\r\n        if (shortMoviesSwitch) {\r\n            return filterShortMovies(foundMovies);\r\n        } else {\r\n            return foundMovies;\r\n        }\r\n    }\r\n\r\n    function filterShortMovies(movies) {\r\n        return movies.filter((movie) => movie.duration <= 40);\r\n    }\r\n\r\n    function handleSearch(value) {\r\n        localStorage.setItem(\"savedMoviesSearch\", value);\r\n        if (\r\n            filterMovies(savedMoviesList, value, shortMovies).length === 0\r\n        ) {\r\n            setNotFound(true);\r\n        } else {\r\n            setNotFound(false);\r\n            setFilteredMovies(\r\n                filterMovies(savedMoviesList, value, shortMovies)\r\n            );\r\n            setShowedMovies(\r\n                filterMovies(savedMoviesList, value, shortMovies)\r\n            );\r\n            localStorage.setItem(\r\n                \"savedMovies\",\r\n                JSON.stringify(savedMoviesList)\r\n            );\r\n        }\r\n    }\r\n\r\n    function handleShortFilms() {\r\n        if (!shortMovies) {\r\n            setShortMovies(true);\r\n            localStorage.setItem(\"shortSavedMovies\", true);\r\n            setShowedMovies(filterShortMovies(filteredMovies));\r\n            filterShortMovies(filteredMovies).length === 0\r\n                ? setNotFound(true)\r\n                : setNotFound(false);\r\n        } else {\r\n            setShortMovies(false);\r\n            localStorage.setItem(\"shortSavedMovies\", false);\r\n            filteredMovies.length === 0\r\n                ? setNotFound(true)\r\n                : setNotFound(false);\r\n            setShowedMovies(filteredMovies);\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (localStorage.getItem(\"savedMoviesSearch\")) {\r\n            setInputValue(localStorage.getItem(\"savedMoviesSearch\"));\r\n        }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (localStorage.getItem(\"shortSavedMovies\") === \"true\") {\r\n            setShortMovies(true);\r\n            setShowedMovies(filterShortMovies(savedMoviesList));\r\n        } else {\r\n            setShortMovies(false);\r\n            setShowedMovies(savedMoviesList);\r\n        }\r\n    }, [savedMoviesList, user]);\r\n\r\n    React.useEffect(() => {\r\n        if (savedMoviesList.length !== 0) {\r\n            setNotFound(false);\r\n        } else {\r\n            setNotFound(true);\r\n        }\r\n    }, [savedMoviesList]);\r\n\r\n    return (\r\n        <>\r\n            <SearchForm\r\n                handleSearchSubmit={handleSearch}\r\n                checkBoxClick={handleShortFilms}\r\n                shortMovies={shortMovies}\r\n                inputValue={inputValue}\r\n            />\r\n            <MoviesCardList\r\n                nothingFound={notFound}\r\n                moviesList={showedMovies}\r\n                onDeleteClick={onDeleteClick}\r\n                onSaveClick={false}\r\n                savedMoviesPage={true}\r\n                savedMovies={savedMoviesList}\r\n            />\r\n            <div className=\"savedMovies\"></div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SavedMovies;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}